<div class="jumbotron text-center">

    <h1 class="display-4">Eat-Da-Burger!</h1>

    {{!-- insert image --}}

</div>

<div class="container">

    <h3>Available Burgers</h3>

    <ul>
        {{#each burgers}}
            {{#unless devoured}}
            <li>

                <div class="burger">{{this.burger_name}}</div>
                <button data-id="{{this.id}}" data-eaten={{this.devoured}} class="devour-burger">Devour it!</button>

            </li>
            {{/unless}}

        {{/each}}
    </ul>

    <h3>Eaten burger</h3>

    <ul>

        {{#each burgers}}

            {{#if devoured}}

            <div>{{this.burger_name}}</div>

            {{/if}}
        {{/each}}
    </ul>

    <h3>Make your own!</h3>

    <form class="create-form">

        <div class="form-group">

            <input type="text" id="createBurger" name="name" placeholder="Make a burger!">

        </div>

        <button type="submit">Create Burger!</button>
    </form>

</div>

<script type="text/javascript">

$(function() {

    $(".devour-burger").on("click", function(event) {
        var id = $(this).data("id");

        var changeEatenState = {

            devoured: true

        };

        console.log(changeEatenState);

        $.ajax("/api/burgers/" + id, {
            type: "PUT",
            data: changeEatenState
        })
            .then(function() {

                console.log("Eaten changed to ", changeEatenState);

                location.reload();
            });

    })
})

</script>